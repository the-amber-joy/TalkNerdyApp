var app=angular.module("talkNerdyApp",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){a.state("admin_sidebar",{url:"/admin_sidebar",templateUrl:"views/sidebar.html",controller:"NavController",controllerAs:"nav"}).state("login",{url:"/",templateUrl:"views/login.html",controller:"LoginController",controllerAs:"login"}).state("home",{url:"/index",templateUrl:"views/home.html",controller:"HomeController",controllerAs:"home"}).state("request_speech",{url:"/home/request_speech",templateUrl:"views/request_speech.html",controller:"RequestSpeechController",controllerAs:"requestSpeech"}).state("my_speeches",{url:"/home/my_speeches",templateUrl:"views/my_speeches.html",controller:"SpeechHistory",controllerAs:"history"}).state("past_agendas",{url:"/home/past_agendas",templateUrl:"views/past_agendas.html",controller:"PastController",controllerAs:"past"}).state("manage_roster",{url:"/home/manage_roster",templateUrl:"/views/admin/manage_roster.html",controller:"RosterController",controllerAs:"roster"}).state("manage_tracks",{url:"/home/manage_tracks",templateUrl:"/views/admin/manage_tracks.html",controller:"RequestSpeechController",controllerAs:"requestSpeech"}).state("view_tracks",{url:"/home/view_tracks",templateUrl:"/views/view_tracks.html",controller:"RequestSpeechController",controllerAs:"requestSpeech"}).state("manage_meetings",{url:"/home/manage_meetings",templateUrl:"views/manage_meetings.html",controller:"ManageMeetingController",controllerAs:"manageMtg"}),c.html5Mode(!0)}]),app.controller("RosterController",["$scope","$http",function(a,b){function c(){e.people.sort(d),e.sortedArray=e.people}function d(a,b){return a.first_name<b.first_name?-1:a.first_name>b.first_name?1:0}console.log("Roster Controller Hit");var e=this;e.people=[],b.get("/manage_roster").then(function(a){e.people=a.data,console.log("Response from Roster: ",e.people);for(var b=0;b<e.people.length+1;)if(b<e.people.length){console.log("Loop: ",b);var d=" ";1==e.people[b].isadmin&&(d="<< Admin >>"),e.people[b].displayLine=e.people[b].first_name+" "+e.people[b].last_name+" -- "+e.people[b].role.charAt(0).toUpperCase()+e.people[b].role.slice(1)+"  "+d,b++}else c(),console.log("STUFF Reached",e.sortedArray),b++}),a.updateRoster=function(){e.people.person={first_name:this.first_name,last_name:this.last_name,role:this.role},console.log("roster.people.person:",e.people.person),b.post("/manage_roster",e.people.person)}}]),app.controller("ManageMeetingController",["$scope","$http",function(a,b){var c=this;c.dateArray=[],b.get("/manageMtg").then(function(a){this.agendas=a.data,console.log(a.data)}),b.get("/manageMtg/getDates").then(function(a){c.dateArray=a.data}),a.manageMeeting=function(){var a={date:c.date,theme:c.theme,location:this.location,word_of_day:this.word_of_day,presiding_officer:this.presiding_officer,toastmaster:this.toastmaster,general_evaluator:this.general_evaluator,table_topics_czar:this.table_topics_czar,speech_evaluator_1:this.speech_evaluator_1,speech_evaluator_2:this.speech_evaluator_2,speech_evaluator_3:this.speech_evaluator_3,grammarian:this.grammarian,ah_counter:this.ah_counter,timer:this.timer,description:this.description,speech_1:this.speech_1,speech_2:this.speech_2,speech_3:this.speech_3,speaker_1_firstName:this.speaker_1_firstName,speaker_1_lastName:this.speaker_1_lastName,speaker_2_firstName:this.speaker_2_firstName,speaker_2_lastName:this.speaker_2_lastName,speaker_3_firstName:this.speaker_3_firstName,speaker_3_lastName:this.speaker_3_lastName};b.post("/manageMtg",a)},a.resetSpeech=function(){var a={speech_1:this.speech_1,speech_2:this.speech_2,speech_3:this.speech_3};b.post("/resetSpeech",a)},c.reset=function(){c.theme="",console.log("button clicked")}}]),app.controller("indexController",["UserService",function(a){var b=this;b.things=a}]),app.controller("HomeController",["$http","UserService",function(a,b){console.log("We're home!");var c=this;c.dateToday=Date.now(),b.id||a.get("/auth/currentUser").then(function(a){console.log("Current User: ",a.data),b.firstName=a.data.first_name,b.lastName=a.data.last_name,b.id=a.data.id,b.isadmin=a.data.isadmin,b.role=a.data.role,b.google_id=a.data.google_id,c.firstName=b.firstName,c.isadmin=b.isadmin,c.role=b.role}),a.get("/agenda").then(function(a){c.data=a.data})}]),app.controller("SpeechAgendaController",["$http",function(a){var b=this;a.get("/speechAgenda").then(function(a){b.speechArray=a.data})}]),app.controller("SpeechHistory",["$http","UserService",function(a){a.get("/mySpeeches").then(function(a){this.speeches=a.data})}]),app.controller("MyRequests",["$http","UserService",function(a){a.get("/myRequests").then(function(a){this.myReqs=a.data})}]),app.controller("PastController",["$http",function(a){var b=this;a.get("/pastAgendas").then(function(a){b.agendas=a.data})}]),app.controller("RequestSpeechController",["$http","$scope","UserService",function(a,b,c){b.data={firstName:c.firstName,lastName:c.lastName},a.get("/getTracks").then(function(a){console.log("tracks:",a.data),b.tracks=a.data}),a.get("/getProjects").then(function(a){console.log("projects:",a.data),b.projects=a.data}),b.resetForm=function(){b.data={}},b.submitSpeech=function(){console.log("data is:",b.data),a.post("/requestSpeech",b.data).then(function(a){console.log("data is:",b.data)}),b.resetForm()}}]),app.factory("UserService",function(){var a={firstName:"",lastName:"",id:0,isadmin:"",role:"",google_id:0};return a});